"use strict";function circleClick(e){e=e||0,$(".circle"+e).css("background-color",c[e][1]),setTimeout(function(){$(".circle"+e).css("background-color",c[e][0])},100)}function wrong(){var c="white";$("#counter").html("<p>!!!!</p>"),$("#counter").css("background-color",c),$(".circle-sm-common").css("background-color",c),$(".circle-sm-common").css("border-color",c),setTimeout(function(){updateCounter(),$("#counter").css("background-color","#FFE"),$(".circle-sm-common").css("background-color","rgb(161, 220, 225)"),$(".circle-sm-common").css("border-color","rgb(161, 220, 225)")},500)}function updateCounter(){currentSetep<10?$("#counter").html("<p>0"+currentSetep+"</p>"):$("#counter").html("<p>"+currentSetep+"</p>")}function termA(c){var e=0;for(play=0,e=0;e<c+1;e++)!function(e){setTimeout(function(){e===c?(play=1,console.log("---------------")):(console.log("answer:"+answer[e]),circleClick(answer[e]))},500*e)}(e)}function end(){setTimeout(function(){alert("All correct!"),$("#switch").click().click()},100)}function termB(c){if(console.log("user press:"+c),c===answer[user.length]){if(user.push(c),console.log("user:"+user),user.length===currentSetep){if(console.log("correct!"),user.length=0,currentSetep===answer.length)return void end();currentSetep++,user.length=0,updateCounter(),termA(currentSetep)}}else strictMode?(console.log("Wrong! Let me show you again!"),wrong(),$("#switch").click().click(),setTimeout(function(){gamestart()},1e3)):(console.log("Wrong! Let me show you again!"),wrong(),user.length=0,setTimeout(function(){termA(currentSetep)},1e3))}function gamestart(){var c=0;if(turnON){for(console.log("start"),currentSetep=0,answer.length=0,updateCounter();c!=LENGTH;)answer.push(~~(4*Math.random()+1)),c++;console.log(answer),currentSetep++,updateCounter(),termA(currentSetep)}}function setStrict(){strictMode^=1,strictMode?$("#strict-light").css("background-color","#F00"):$("#strict-light").css("background-color","#111")}var LENGTH=20,answer=[],user=[],strictMode=0,turnON=0,currentSetep=0,play=0,c=new Array(LENGTH);c[0]=["rgb(161, 220, 225)","rgb(200, 225, 225)"],c[1]=["#D00","#F00"],c[2]=["#009","#00F"],c[3]=["#0E0","#0F0"],c[4]=["#EE0","#FF0"],$("#start").click(function(c){c.stopPropagation(),gamestart()}),$("#strict").click(function(c){c.stopPropagation(),setStrict()}),$("#switch").click(function(c){c.stopPropagation(),turnON^=1,turnON?($("#s-move").css("float","right"),$("#counter").html("<p>00</p>"),user.length=0,answer.length=0,play=0):($("#s-move").css("float","left"),$("#counter").html("<p>&nbsp;</p>"))}),$(".circle-sm-common").click(function(c){c.stopPropagation()}),$(".circle1").click(function(){play&&(circleClick(1),termB(1))}),$(".circle2").click(function(){play&&(circleClick(2),termB(2))}),$(".circle3").click(function(){play&&(circleClick(3),termB(3))}),$(".circle4").click(function(){play&&(circleClick(4),termB(4))});